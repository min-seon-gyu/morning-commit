<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>MorningCommit Newsletter</title>
    <!--[if mso]>
    <noscript>
        <xml>
            <o:OfficeDocumentSettings>
                <o:PixelsPerInch>96</o:PixelsPerInch>
            </o:OfficeDocumentSettings>
        </xml>
    </noscript>
    <![endif]-->
</head>
<body style="margin: 0; padding: 0; background-color: #F4F5F7; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;">
    <!-- Outer Container -->
    <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%" style="background-color: #F4F5F7;">
        <tr>
            <td align="center" style="padding: 40px 20px;">
                <!-- Inner Container (600px max) -->
                <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="600" style="max-width: 600px; width: 100%;">

                    <!-- Header -->
                    <tr>
                        <td align="center" style="padding: 30px 40px; background-color: #1E293B; border-radius: 12px 12px 0 0;">
                            <table role="presentation" cellpadding="0" cellspacing="0" border="0">
                                <tr>
                                    <td align="center">
                                        <!-- Logo Icon -->
                                        <table role="presentation" cellpadding="0" cellspacing="0" border="0">
                                            <tr>
                                                <td style="width: 48px; height: 48px; background-color: #3B82F6; border-radius: 10px; text-align: center; vertical-align: middle;">
                                                    <span style="font-size: 24px; color: #FFFFFF; font-weight: bold;">M</span>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr>
                                    <td align="center" style="padding-top: 16px;">
                                        <span style="font-size: 28px; font-weight: 700; color: #FFFFFF; letter-spacing: -0.5px;">MorningCommit</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td align="center" style="padding-top: 8px;">
                                        <span style="font-size: 14px; color: #94A3B8;">오늘의 기술 블로그 다이제스트</span>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <!-- Intro Section -->
                    <tr>
                        <td style="padding: 32px 40px 24px 40px; background-color: #FFFFFF;">
                            <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%">
                                <tr>
                                    <td>
                                        <span style="font-size: 18px; font-weight: 600; color: #1E293B;">오늘의 추천 아티클</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding-top: 8px;">
                                        <span style="font-size: 14px; color: #64748B; line-height: 1.5;">국내 주요 기술 블로그에서 엄선한 아티클을 매일 아침 전해드립니다.</span>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <!-- Posts Section -->
                    <tr>
                        <td style="padding: 0 40px 32px 40px; background-color: #FFFFFF;">
                            <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%">
                                <!-- Post Card (repeated with th:each) -->
                                <tr th:each="post, iterStat : ${posts}">
                                    <td style="padding-bottom: 24px;" th:styleappend="${iterStat.last} ? 'padding-bottom: 0;' : ''">
                                        <!-- Card Container -->
                                        <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%" style="background-color: #F8FAFC; border-radius: 10px; border: 1px solid #E2E8F0;">
                                            <tr>
                                                <td style="padding: 24px;">
                                                    <!-- Blog Badge -->
                                                    <table role="presentation" cellpadding="0" cellspacing="0" border="0">
                                                        <tr>
                                                            <td style="background-color: #EFF6FF; padding: 4px 12px; border-radius: 20px;">
                                                                <span th:text="${post.blog.displayName}" style="font-size: 12px; font-weight: 600; color: #3B82F6; text-transform: uppercase; letter-spacing: 0.5px;">Blog Name</span>
                                                            </td>
                                                        </tr>
                                                    </table>

                                                    <!-- Title -->
                                                    <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%" style="padding-top: 16px;">
                                                        <tr>
                                                            <td>
                                                                <a th:href="${post.link}" th:text="${post.title}" target="_blank" style="font-size: 18px; font-weight: 700; color: #1E293B; text-decoration: none; line-height: 1.4;">Post Title</a>
                                                            </td>
                                                        </tr>
                                                    </table>

                                                    <!-- Date -->
                                                    <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%" style="padding-top: 8px;" th:if="${post.publishDate}">
                                                        <tr>
                                                            <td>
                                                                <span th:text="${#temporals.format(post.publishDate, 'yyyy년 M월 d일')}" style="font-size: 12px; color: #94A3B8;">2024년 1월 1일</span>
                                                            </td>
                                                        </tr>
                                                    </table>

                                                    <!-- Description -->
                                                    <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%" style="padding-top: 12px;">
                                                        <tr>
                                                            <td>
                                                                <span th:text="${post.description}" style="font-size: 14px; color: #64748B; line-height: 1.6;">Summary content here...</span>
                                                            </td>
                                                        </tr>
                                                    </table>

                                                    <!-- Read More Button -->
                                                    <table role="presentation" cellpadding="0" cellspacing="0" border="0" style="padding-top: 20px;">
                                                        <tr>
                                                            <td style="background-color: #3B82F6; border-radius: 6px;">
                                                                <a th:href="${post.link}" target="_blank" style="display: inline-block; padding: 10px 20px; font-size: 14px; font-weight: 600; color: #FFFFFF; text-decoration: none;">아티클 읽기 &rarr;</a>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <!-- Divider -->
                    <tr>
                        <td style="padding: 0 40px; background-color: #FFFFFF;">
                            <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%">
                                <tr>
                                    <td style="border-top: 1px solid #E2E8F0;"></td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <!-- Footer -->
                    <tr>
                        <td style="padding: 32px 40px; background-color: #FFFFFF; border-radius: 0 0 12px 12px;">
                            <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%">
                                <tr>
                                    <td align="center">
                                        <span style="font-size: 13px; color: #94A3B8; line-height: 1.6;">MorningCommit 뉴스레터를 구독해 주셔서 감사합니다.</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td align="center" style="padding-top: 12px;">
                                        <a th:href="@{/api/subscribers/unsubscribe(email=${subscriberEmail})}" style="font-size: 13px; color: #64748B; text-decoration: underline;">구독 취소</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td align="center" style="padding-top: 20px;">
                                        <span style="font-size: 12px; color: #CBD5E1;">&copy; 2025 MorningCommit. All rights reserved.</span>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                </table>
            </td>
        </tr>
    </table>
</body>
</html>
